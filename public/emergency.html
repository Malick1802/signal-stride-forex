<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency React Test</title>
</head>
<body>
    <div id="emergency-root"></div>
    <script type="module">
        // Emergency test - bypass ALL Vite bundling
        console.log('Starting emergency React test...');
        
        // Import React directly from CDN
        const React = await import('https://esm.sh/react@18.2.0');
        const ReactDOM = await import('https://esm.sh/react-dom@18.2.0');
        
        console.log('React loaded:', React);
        console.log('ReactDOM loaded:', ReactDOM);
        
        const { useState, createElement } = React.default;
        const { createRoot } = ReactDOM.default;
        
        function EmergencyTest() {
            console.log('EmergencyTest component rendering...');
            
            try {
                const [count, setCount] = useState(0);
                console.log('useState working! Current count:', count);
                
                return createElement('div', {
                    style: {
                        padding: '30px',
                        fontFamily: 'Arial, sans-serif',
                        maxWidth: '500px',
                        margin: '50px auto',
                        backgroundColor: '#e8f5e8',
                        border: '2px solid #4caf50',
                        borderRadius: '10px',
                        textAlign: 'center'
                    }
                }, [
                    createElement('h1', { 
                        key: 'title',
                        style: { color: '#2e7d32', marginBottom: '20px' }
                    }, '‚úÖ Emergency React Test'),
                    createElement('p', { 
                        key: 'count',
                        style: { fontSize: '18px', marginBottom: '20px' }
                    }, `Count: ${count}`),
                    createElement('button', {
                        key: 'button',
                        onClick: () => {
                            console.log('Button clicked successfully!');
                            setCount(c => c + 1);
                        },
                        style: {
                            padding: '12px 24px',
                            backgroundColor: '#4caf50',
                            color: 'white',
                            border: 'none',
                            borderRadius: '6px',
                            cursor: 'pointer',
                            fontSize: '16px',
                            fontWeight: 'bold'
                        }
                    }, 'Increment Count'),
                    createElement('p', { 
                        key: 'success',
                        style: { 
                            marginTop: '20px', 
                            fontSize: '14px', 
                            color: '#2e7d32',
                            fontWeight: 'bold'
                        }
                    }, 'üéâ React hooks are working perfectly via ESM imports!')
                ]);
            } catch (error) {
                console.error('useState failed:', error);
                return createElement('div', {
                    style: { color: 'red', padding: '20px' }
                }, `Error: ${error.message}`);
            }
        }
        
        try {
            const root = createRoot(document.getElementById('emergency-root'));
            root.render(createElement(EmergencyTest));
            console.log('‚úÖ Emergency test rendered successfully!');
        } catch (error) {
            console.error('‚ùå Emergency test failed:', error);
            document.getElementById('emergency-root').innerHTML = 
                `<div style="color: red; padding: 20px; font-family: Arial;">
                    <h1>‚ùå React Emergency Test Failed</h1>
                    <p>Error: ${error.message}</p>
                </div>`;
        }
    </script>
</body>
</html>